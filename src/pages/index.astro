---
import MainLayout from '../layouts/MainLayout.astro';
import siteConfig from '../../site.config.mjs';
import { ChevronDown } from 'lucide-astro';
import PhotoGrid from '../components/PhotoGrid.astro';
import { getImages } from '../data/imageStore';

const owner = siteConfig.owner;
const images = await getImages({ featured: true });
const base = import.meta.env.BASE_URL;
---

<MainLayout>
	<section
		class="landing-section h-screen flex items-center justify-center bg-cover bg-center px-4 py-12 md:py-16"
	>
		<div class="text-center max-w-2xl mx-auto">
			<h1 class="text-3xl md:text-4xl lg:text-5xl font-bold leading-tight">
				{owner} Photography
			</h1>
			<p class="mt-4 text-base md:text-lg text-gray-700">
				A place to showcase my photography
			</p>
			<a
				href=`${base}/collections`
				class="mt-8 inline-block px-6 py-3 border-2 border-black rounded-md
                      hover:bg-black hover:text-white transition-all duration-300
                      text-sm md:text-base font-medium
                      transform hover:scale-105 active:scale-95"
			>
				View Gallery
			</a>
		</div>
		<div class="absolute bottom-10 left-0 right-0 flex justify-center">
			<button
				onclick="scrollToContent()"
				class="flex flex-col items-center text-gray-600 hover:text-gray-900 transition-colors hover:cursor-pointer"
				aria-label="Scroll down to see featured work"
			>
				<span class="text-sm mb-2">Featured Work</span>
				<ChevronDown size={24} />
			</button>
		</div>
	</section>

	<section class="py-20">
		<div class="max-w-2xl mx-auto text-center mb-16">
			<h2 class="text-3xl md:text-4xl font-bold mb-4">Featured Works</h2>
			<p class="text-gray-600">
				A selection of my best photographs from various adventures
			</p>
		</div>
		<div class="p-4">
			<PhotoGrid images={images} />
		</div>
	</section>
</MainLayout>

<script is:inline>
	const scrollToContent = () => {
		window.scrollTo({
			top: window.innerHeight,
			behavior: 'smooth',
		});
	};
</script>
